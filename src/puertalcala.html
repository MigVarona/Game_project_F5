<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Retiro 360</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.19.2/dist/css/uikit.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">

  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <link href="./output.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Notable&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Poiret+One&display=swap"
    rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
</head>

<body class="bg-black" onload="startVideo()">
  <a-scene vr-mode-ui="enabled: false" class="" cursor="rayOrigin: mouse" id="camera" position="0 1.6 0">
    <a-camera>
      <a-look-controls pitchEnabled="false"></a-look-controls>
    </a-camera>
    </a-entity>

    <a-videosphere src="#video" rotation="0 270 0"></a-videosphere>

    <div id="black-overlay"></div>

    <video id="video" loop muted autoplay crossorigin="anonymous" webkit-playsinline="true" playsinline="true"
      onloadedmetadata="this.currentTime=0">
      <source type="video/mp4" src="assets/videos editados 360/puerta_alcala.webm">
      <source type="video/mp4" src="assets/videos editados 360/puerta_alcala.mp4">
    </video>

    <h1 class="mt-6 nab">Retiro 360</h1>
    <h2 class=""> Parque del Buen Retiro </h2>
    <a
      href="agenda.html">
      <h4 class="mt-6">Actividades</h4>
    </a>

    
      <section class="weather-container sm:gap-2 text-white gap-4 flex items-center justify-between">
    <div class="section__content">
        <div class="weather__temp" id="js_w_temp"></div>
        <div class="weather__icon" id="js_w_icon"></div>
    </div>
</section>
  

    <div class="flechas sm:gap-2 text-white gap-4 flex items-center justify-between">
      <a href="entrada.html">
        <h3 class="text-white flex ">ACCESO PRINCIPAL</h3> 
      </a>

      <a href="entrada.html">
        <svg type="button" xmlns="http://www.w3.org/2000/svg" class="flecha1 justify-start w-5"
          viewBox="0 0 126.667 89.067">
          <path d="M0 50.933h101.201L72.667 79.467l9.466 9.6 44.534-44.534L82.133 0h-.001l-9.465 9.6 27.868 27.867H0z"
            fill="white"></path>
        </svg>
      </a>
    </div>

    <a class="uk-button btnmg uk-button-default" href="#modal-overflow" uk-toggle>Conoce +</a>
    <img class="visible" src="assets/white-swipe.png" alt="">
    <div id="modal-overflow" style="opacity: 0.8;" uk-modal>
      <div id="alcala" class="uk-modal-dialog">
        <button class="uk-modal-close-default" type="button" uk-close></button>
        <div class="uk-modal-body" uk-overflow-auto>
          <p id="contenido-alcala"></p>
        </div>
      </div>
    </div>

    <div id="icon-container" class="oculto swipe">
      <div class="path"></div>
      <div class="hand-icon"></div>
    </div>

  </a-scene>

<script src="apiweather.js"></script>
<script src="apitiempo.js"></script>
<script>
  async function showWeather() {
  const weatherData = await fetchData("Madrid");

  if (weatherData) {
    const weatherIcon = weatherData.weather.icon; 
    const temperature = weatherData.temperature; 

    // Concatena la ruta base de los iconos con el nombre del icono proporcionado por la API
    const iconUrl = `https://weather-api138.p.rapidapi.com/weather_icons/${weatherIcon}.png`;

    // Asigna la ruta completa del icono al atributo src del elemento img
    document.getElementById("weather-icon").src = iconUrl;
    document.getElementById("temperature").textContent = `Temperature: ${temperature}°C`;
  } else {
    console.error("No se pudo obtener el clima.");
  }
}
  window.addEventListener("DOMContentLoaded", showWeather);
</script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(document).ready(function () {
    cargarContenidoMarkdown();

    function cargarContenidoMarkdown() {
      $.ajax({
        url: 'contenido.md',
        success: function (data) {
          var start = data.indexOf('# alcala');
          var end = data.indexOf('##', start + 1);
          var contenido = data.substring(start, end != -1 ? end : data.length).trim();
          // Eliminar el título '# alcala'
          contenido = contenido.replace(/^# alcala\s*/gm, '');
          $('#contenido-alcala').html(contenido);
        }
      });
    }
  });


  function startVideo() {
    var video = document.getElementById('video');
    video.play();
  }

  document.addEventListener("DOMContentLoaded", function () {
    var iconContainer = document.getElementById("icon-container");


    setTimeout(function () {
      iconContainer.style.display = "none";
    }, 5000);
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.19.2/dist/js/uikit.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/uikit@3.19.2/dist/js/uikit-icons.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.0/jquery.min.js"></script>

</body>

</html>